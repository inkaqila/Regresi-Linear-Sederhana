<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analisis Model | Prediksi Konsentrasi</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container my-5">
        <header class="text-center mb-5">
            <h1 class="display-5 text-primary">Proyek Regresi Linear</h1>
            <p class="lead">Memodelkan hubungan antara konsumsi kafein dan tingkat konsentrasi. Rata-rata konsumsi kafein dalam dataset kami adalah sekitar **{{ '%.2f' % avg_caffeine }} mg** per hari.</p>
        </header>

        <div class="card p-4 shadow">
            <div class="text-center">
                <h3>Hubungan Data dan Model</h3>
                <p class="text-muted">Scatter plot di bawah ini menunjukkan sebaran data aktual dan garis regresi (best-fit line) yang dihasilkan oleh model kami. Garis ini merepresentasikan prediksi model.</p>
                <img src="{{ url_for('static', filename='scatterplot.png') }}" class="img-fluid my-4" alt="Scatter Plot Model">
            </div>

            <hr class="my-5">

            <h3 class="text-center">Metrik Evaluasi Model</h3>
            <p class="text-muted text-center mb-4">Kami menggunakan metrik ini untuk mengukur seberapa baik kinerja model kami dalam memprediksi data.</p>
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <div class="card text-white bg-info">
                        <div class="card-body">
                            <h5 class="card-title">Metrik Error</h5>
                            <p class="card-text">MAE: <b>{{ '%.2f' % metrics.mae }}</b></p>
                            <p class="card-text">MSE: <b>{{ '%.2f' % metrics.mse }}</b></p>
                            <p class="card-text">RMSE: <b>{{ '%.2f' % metrics.rmse }}</b></p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-3">
                    <div class="card text-white bg-success">
                        <div class="card-body">
                            <h5 class="card-title">Kekuatan Model</h5>
                            <p class="card-text">R-squared (R2): <b>{{ '%.2f' % metrics.r2 }}</b></p>
                            <p class="card-text">Intercept: <b>{{ '%.4f' % metrics.intercept }}</b></p>
                            <p class="card-text">Koefisien: <b>{{ '%.4f' % metrics.coefficient }}</b></p>
                        </div>
                    </div>
                </div>
            </div>
            
            <p class="text-center mt-4">
                <a href="/predict_form" class="btn btn-primary btn-lg">Coba Prediksi Sekarang</a>
            </p>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>